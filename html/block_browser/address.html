<!DOCTYPE html>
<html data-n-head="">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta data-n-head="true" name="viewport" content="width=device-width, initial-scale=1">
    <meta data-n-head="true" renderer="webkit">
    <meta data-n-head="true" name="format-detection" content="telephone=no">
    <meta data-n-head="true" http-equiv="X-UA-Compatible" content="IE=edge">
    <meta data-n-head="true" data-hid="description" name="description" content="">
    <meta data-n-head="true" data-hid="keywords" name="keywords" content="">
    <title data-n-head="true">区块浏览器 | QKI</title>
    <link data-n-head="true" rel="icon" type="image/x-icon" href="">

    <link data-n-head="true" rel="stylesheet" type="text/css" charset="utf-8" href="../../css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/block_browser.css?v=1">
    <link rel="stylesheet" href="../../css/jquery-confirm.css" />
    <link rel="stylesheet" href="fonts/iconfont.css" />
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="../../js/jquery-confirm.min.js"></script>
    <script src="../../js/bootstrap.min.js"></script>

</head>

<body>
<div class="vheader">
    <div class="vcontainer vheader-inner">
        <a href="./index.html" class="icon iconfont icon-icon-test1 news_logo"></a>
        <ul class="nav d-lg-block d-none">
            <li class="nuxt-link-exact-active nuxt-link-active nav-item">
                <a href="./index.html">首页</a>
            </li>
            <li class="nuxt-link-exact-active nuxt-link-active nav-item">
                <a href="./block.html">区块</a>
            </li>
            <li class="nuxt-link-exact-active nuxt-link-active nav-item">
                <a href="../index.html">钱包</a>
            </li>
        </ul>
        <div class="search-container d-lg-block d-none">
            <div class="vsearch-panel" data-v-2f615f5c="">
                <div class="vsearch" data-v-2f615f5c="">
                    <div class="vsearch-inner" data-v-2f615f5c="">
                        <div class="search-bar" data-v-2f615f5c="">
                            <input placeholder="地址" value="" class="input-search" id="pc-search-input" data-v-2f615f5c="">
                            <i class="btn-search search-btn"  data-v-2f615f5c=""></i>
                        </div>
                    </div>
                </div>
                <div class="placeholder" data-v-2f615f5c=""></div>
            </div>
        </div>
        <div class="mobile-menu d-block d-lg-none">
            <button type="button" aria-label="Toggle navigation" aria-controls="nav_search" aria-expanded="false" id="button_nav_search" class="nav-toggle navbar-toggler">
                <span class="icon-button icon-search"></span>
            </button>
            <button type="button" aria-label="Toggle navigation" aria-controls="nav_menu" aria-expanded="false" id="button_nav_menu" class="nav-toggle navbar-toggler">
                <span class="icon-button icon-hamburger"></span>
            </button>
        </div>
    </div>
    <div id="nav_search" class="navbar-collapse collapse" style="">
        <ul class="navbar-nav">
            <div class="mobile-search-container">
                <div class="vsearch-panel" data-v-2f615f5c="">
                    <div class="vsearch" data-v-2f615f5c="">
                        <div class="vsearch-inner" data-v-2f615f5c="">
                            <div class="search-bar" data-v-2f615f5c="">
                                <input placeholder="地址" value="" class="input-search" id="web-search-input" data-v-2f615f5c=""><i class="btn-search search-btn" data-v-2f615f5c=""></i></div></div></div><div class="placeholder" data-v-2f615f5c="">
                </div>
                </div>
            </div>
        </ul>
    </div>

    <div id="nav_menu" class="navbar-collapse collapse" style="display: none;"><div class="menu-container">
        <ul class="navbar-nav nav-links">
            <li class="nav-item current">
                <a href="./index.html" class="nav-link">首页
                </a>
            </li>
            <li class="nav-item">
                <a rel="noopener" href="./block.html"  class="nav-link">区块</a>
            </li>
            <li class="nav-item">
                <a rel="noopener" href="../index.html"  class="nav-link">钱包</a>
            </li>
        </ul>
    </div>
    </div>
</div>

<div class="vcontainer page" id="content">
    <div data-v-1fd0f8d0="" class="vcontainer page" style="min-height: 812px!important;">
        <div data-v-1fd0f8d0="" class="header">
            <span data-v-1fd0f8d0="" class="name">地址</span>
            <span data-v-1fd0f8d0="" class="address">{{address.address}}</span></div>
        <div data-v-1fd0f8d0="" class="main">
            <h4 data-v-1fd0f8d0="" class="vfs-18 vcolor-192330 mobile-padding">基本信息</h4>
            <div data-v-1fd0f8d0="" class="vshadow d-block d-lg-flex baseinfo">
                <div data-v-1fd0f8d0="" class="detail" style="width:100%">
                    <div data-v-1fd0f8d0="" class="vflex-between-center vborder-b balance">
                        <span data-v-1fd0f8d0="" class="vfs-12 vfw-500 vcolor-192330">积分</span>
                        <div data-v-1fd0f8d0="">
                            <span data-v-1fd0f8d0="" class="vfs-20 vcolor-52cbca">{{address.result}} QKI</span>
                            <span data-v-1fd0f8d0="" class="vfs-20 vcolor-192330 vpl-5">&nbsp;</span></div>
                    </div>


                </div>

            </div>

        </div>
    </div>
</div>

<div class="vfooter">

    <p class="panel-bottom">Copyright ©2018 quarkblockchain v1.0</p>
</div>

<div id="btn_top" class="cmp-navtop d-none d-lg-flex" style="display:none;" data-v-59831c6c="">
    <span class="arrow" data-v-59831c6c=""></span>
    <span class="text" data-v-59831c6c="">TOP</span>
</div>
</div>

<script src="../../js/mui.min.js"></script>
<script src="../../js/app.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.min.js"></script>
<script src="../../js/h.min.js"></script>
<script src="../../js/web3.min.js"></script>
<script type="text/javascript">
    // 引入web3
    var web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));

    $('#btn_top').click(function () {
        $('html,body').animate({ scrollTop: 0 }, 500);
    });
    var show = true;
    $('#button_nav_search').bind('click',function(){
        if(!$("#nav_search").is(":animated")){
            if(show==true){

                $("#nav_search").slideDown("slow");
                show=false;
            }else if(show==false){

                $("#nav_search").slideUp("slow");
                show=true;
            }
        }
    });
    var show_nav = true;
    $('#button_nav_menu').bind('click',function(){
        if(!$("#nav_menu").is(":animated")){
            if(show_nav==true){

                $("#nav_menu").slideDown("slow");
                show_nav=false;
            }else if(show_nav==false){

                $("#nav_menu").slideUp("slow");
                show_nav=true;
            }
        }
    });
    vm = new Vue({
        el: '#content',
        data: {
            address:[],
        },
    });

    //获取详情
    getAddressInfo();
    function getAddressInfo()
    {
        var hash = getUrlAttr();
        if(hash)
        {
            rpc('eth_getBalance',[hash,"latest"],function (data) {
                if(data.result)
                {
                    var address = {};
                    address.address = hash;
                    address.result = web3.utils.fromWei(web3.utils.hexToNumberString(data.result));
                    vm.address = address;

                }else{
                    return false;
                }
            });

        }else{
            return false;
        }
    }

    $(".search-btn").click(function () {
        search();
    });

    $(".input-search").keypress(function(e) {
        // 回车键事件
        if(e.which == 13) {
            search();
        }
    });


    function search() {
        var keyword;
        if($('#pc-search-input').val() != '')
        {
            keyword = $('#pc-search-input').val();
        }else{
            keyword = $('#web-search-input').val();
        }
        if(!keyword){
            $.alert({
                type: 'red',
                title: '系统提示',
                content: '请输入"交易Hash"',
            });
            return false;
        }

        window.location.href = './address.html#'+keyword;
    }
</script>
</body>

</html>